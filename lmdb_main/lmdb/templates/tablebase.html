{% extends "mapbase.html" %}
{% block customjs %}
{% load staticfiles %}
    
    <link rel="stylesheet" href="{% static "DataTables-1.9.4/media/css/jquery.dataTables.css" %}" />
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
         <script type="text/javascript" src="{% static "DataTables-1.9.4/media/js/jquery.dataTables.js" %}"></script>

    <script src="//js.arcgis.com/3.6/"></script>
    
        <script> 
        // wait for the DOM to be loaded    
        var i = 0;
        
       
         
        
        
    </script> 
    
    

<script>
var minDateFilter;
var maxDateFilter;
var asInitVals = new Array();


$.fn.dataTableExt.afnFiltering.push(
  function( oSettings, aData, iDataIndex ) {
    if ( typeof aData._date == 'undefined' ) {
      aData._date = new Date(aData[5]).getTime();
    }
    
    if ( minDateFilter && !isNaN(minDateFilter) ) {
      if ( aData._date < minDateFilter ) {
        return false;
      }
    }
    
    if ( maxDateFilter && !isNaN(maxDateFilter) ) {
      if ( aData._date > maxDateFilter ) {
        return false;
      }
    }
    
    return true;
  }
);

$(document).ready( function() {
  var oTable = $('#example').dataTable( {
        "oLanguage": {
            "sSearch": "Search all columns:"
        },
        "aoColumns": [
                null,
                { "sType": "numeric" },
                { "sType": "numeric" },
                { "sType": "numeric" },
                { "sType": "numeric" },
                { "sType": "numeric" },
                null
            ],
    "bJQueryUI": true
    } );
    
    
      
  $( "#datepicker_min" ).datepicker( {
    "onSelect": function(date) {
      minDateFilter = new Date(date).getTime();
      oTable.fnDraw();
    }
  } ).keyup( function () {
      minDateFilter = new Date(this.value).getTime();
      oTable.fnDraw();
  } );
  
  $( "#datepicker_max" ).datepicker( {
    "onSelect": function(date) {
      maxDateFilter = new Date(date).getTime();
      oTable.fnDraw();
    }
  } ).keyup( function () {
      maxDateFilter = new Date(this.value).getTime();
      oTable.fnDraw();
  } );
     
    $("thead input").keyup( function () {
        /* Filter on the column (the index) of this element */
        oTable.fnFilter( this.value, $("thead input").index(this) );
    } );
     
     
     
    /*
     * Support functions to provide a little bit of 'user friendlyness' to the textboxes in
     * the footer
     */
    $("thead input").each( function (i) {
        asInitVals[i] = this.value;
    } );
     
    $("thead input").focus( function () {
        if ( this.className == "search_init" )
        {
            this.className = "";
            this.value = "";
        }
    } );
     
    $("thead input").blur( function (i) {
        if ( this.value === "" )
        {
            this.className = "search_init";
            this.value = asInitVals[$("thead input").index(this)];
        }
    } );
  
  

} );
</script>
{% endblock %}
{% block customclass %}
class ="claro"
{% endblock %}

